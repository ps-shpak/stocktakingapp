# Правила участия в проекте

## Работа с VCS

* бинарные файлы и продукты сборки попадать в commit не должны - используйте gitignore
* всю документацию желательно хранить в коде - в этом репозитории
* всю конфигурацию желательно хранить в коде - в этом репозитории
  * нельзя помещать в commit секретные данные (пароли, токены) - если поместили, удалять поздно - меняйте пароль/токен
* разработка для всех платформ ведется в ветке **develop**
* любую стабильную версию кода разрешено мержить в ветку **master**
* шаблон коммита: **[\<platform\>] \<message\>**
  * *пример: [mobile] Добавлено отображение прогресса получения данных*

## Стиль кодирования

Для всех используемых языков существует стандартный стиль:

* Go: соблюдаем стандартный стиль Go, используем go vet и go fmt (напрямую или как плагин редактора)
* Dart: соблюдаем стандартный стиль Dart 2, используем dartfmt
* TypeScript: соблюдаем стандартный стиль TypeScript

## Анализаторы кода

Используются специфичные для языка linter:

* Go: используем [golangci-lint](https://github.com/golangci/golangci-lint) на каждый commit в Backend
* Dart: используем [dartanalyzer](https://www.dartlang.org/guides/language/analysis-options#the-analysis-options-file) на каждый commit в мобильное приложение
* TypeScript: используем используем [tslint](https://github.com/palantir/tslint) на каждый commit в Веб-панель

## Создание документации

* Описание API сохраняется в файлах `*.proto`, из которого генерируется код для сервера и для клиентов
  * В proto-файлах следует комментировать каждое поле, смысл которого не очевиден
* Описание архитектурных решений хранится в каталоге docs в формате Markdown
* Иллюстрации для Markdown статей хранятся в исходных файлах для PlantUML
  * Для сборки иллюстраций используйте `task build-docs`
